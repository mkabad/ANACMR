<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ANAC Mauritanie – Suivi Mensuel des Vols</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>ANAC Mauritanie – Suivi Mensuel des Vols</h1>
        </header>
        
        <main>
            <section class="filters-section">
                <div class="filters">
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="monthSelect">Mois</label>
                            <select id="monthSelect">
                                <option value="ALL">Tous les mois</option>
                            </select>
                        </div>
                        
                        <div class="filter-group">
                            <label for="companySelect">Compagnie</label>
                            <select id="companySelect">
                                <option value="ALL">Toutes les compagnies</option>
                            </select>
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="filter-group">
                            <label for="searchFrom">Date début</label>
                            <input type="date" id="searchFrom">
                        </div>
                        
                        <div class="filter-group">
                            <label for="searchTo">Date fin</label>
                            <input type="date" id="searchTo">
                        </div>
                        
                        <div class="filter-group">
                            <label for="searchImm">Immatriculation</label>
                            <input type="text" id="searchImm" placeholder="Rechercher...">
                        </div>
                        
                        <div class="filter-group">
                            <label for="searchVol">N° Vol</label>
                            <input type="text" id="searchVol" placeholder="Rechercher...">
                        </div>
                    </div>
                    
                    <div class="filter-row">
                        <div class="button-group">
                            <button class="btn-primary btn-active" data-type="ALL">Tout</button>
                            <button class="btn-primary" data-type="DEP">Départ</button>
                            <button class="btn-primary" data-type="ARR">Arrivée</button>
                            <button class="btn-secondary" id="resetFilters">Réinitialiser</button>
                        </div>
                    </div>
                </div>
            </section>
            
            <section class="actions-section">
                <div class="actions">
                    <button class="btn-success" id="addFlightBtn">➕ Ajouter un vol</button>
                    <button class="btn-warning" id="undoBtn" style="display: none;">↩️ Annuler suppression</button>
                </div>
            </section>
            
            <section class="table-section">
                <div class="table-wrapper">
                    <table>
                        <thead>
                            <tr>
                                <th>N° d'autorisation</th>
                                <th>Date</th>
                                <th>Compagnie</th>
                                <th>Immatriculation</th>
                                <th>N° Vol</th>
                                <th>Type</th>
                                <th>PAX</th>
                                <th>Bébés</th>
                                <th>Action</th>
                            </tr>
                        </thead>
                        <tbody id="flightTableBody">
                        </tbody>
                        <tfoot>
                            <tr>
                                <td colspan="5">TOTAL</td>
                                <td id="totalPassengers">0</td>
                                <td id="totalBabies">0</td>
                                <td></td>
                            </tr>
                        </tfoot>
                    </table>
                </div>
            </section>
        </main>
    </div>
    
    <div class="modal" id="flightModal">
        <div class="modal-content">
            <h2>Ajouter un vol</h2>
            
            <form id="flightForm">
                <div class="form-group">
                    <label for="fAuthNumber">Numéro d'autorisation</label>
                    <input type="text" id="fAuthNumber" placeholder="SNA26-0001" required maxlength="10">
                    <small class="field-hint">Format: SNA26-XXXX (ex: SNA26-0001)</small>
                </div>
                
                <div class="form-group">
                    <label for="fDate">Date</label>
                    <input type="date" id="fDate" required>
                </div>
                
                <div class="form-group">
                    <label for="fCompany">Compagnie</label>
                    <select id="fCompany" required>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fImm">Immatriculation</label>
                    <input type="text" id="fImm" placeholder="Ex: 5T-CLC" required>
                </div>
                
                <div class="form-group">
                    <label for="fVol">N° Vol</label>
                    <input type="text" id="fVol" placeholder="Ex: L6-123" required>
                </div>
                
                <div class="form-group">
                    <label for="fType">Type du vol</label>
                    <select id="fType" required>
                        <option value="DEP">Départ</option>
                        <option value="ARR">Arrivée</option>
                    </select>
                </div>
                
                <div class="form-group">
                    <label for="fPassengers">PAX (Passagers)</label>
                    <input type="number" id="fPassengers" min="0" value="0" required>
                </div>
                
                <div class="form-group">
                    <label for="fBabies">Bébés</label>
                    <input type="number" id="fBabies" min="0" value="0" required>
                </div>
                
                <div class="modal-buttons">
                    <button type="submit" class="btn-success">Enregistrer</button>
                    <button type="button" class="btn-secondary" id="cancelBtn">Annuler</button>
                </div>
            </form>
        </div>
    </div>
    
    <div id="notificationContainer"></div>
    
    <script type="module" src="firebase.js"></script>
    <script type="module" src="app.js"></script>
</body>
</html>
